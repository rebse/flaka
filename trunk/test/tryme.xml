<project xmlns:c="antlib:net.haefelingerit.flaka">
  <macrodef name="expect">
    <attribute name="cand" />
    <attribute name="this" />
    <sequential>
      <c:unless test=" '@{this}' == '@{cand}' ">
        <c:fail message="unexpected '@{cand}', expected '@{this}'" />
      </c:unless>
    </sequential>
  </macrodef>
  
  <c:switch value="foo" >
    <matches re="foo|bar" var="mo"  debug="true" >
      <c:echo> #{mo[0]} </c:echo>
    </matches>
  </c:switch>

</project>