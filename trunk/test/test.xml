<?xml version="1.0" ?>
<project name="ant-test" default="test" basedir=".">
 <taskdef name="epoln-property-handler" classname="net.haefelingerit.flaka.Init" />

 <!-- install my property handler -->
 <epoln-property-handler />

 <property file="test.props" />

 <property name="cvs.tag" value="v-${subst .,_, ${version}}" />

 <target name="test">
  <echo> I ${action} epoline </echo>
  <echo> filename is `${filename}' </echo>
  <!-- XML evaluation differs from Java !! -->
  <echo> 
   cvs version is `v-${subst .,_, ${version}}' 
   user.home = ${user.home}
   wolfgang  = ${wolfgang}

   basename   = ${basename a/b}
   dirname    = ${dirname  a/b}
   exists     = ${exists   a}
   exists     = ${exists   /tmp}
   isfile     = ${isfile   /tmp}
   isdir      = ${isdir    /tmp}
   ls         = ${ls       /tmp}
   mtime      = ${mtime    /tmp}
   uppercase  = ${uppercase string}
   lowercase  = ${lowercase STRING}
   length     = ${length string}
   length     = ${length }

   undefined  = ${undefined}

   get undefined             = ${get undefined} 
   get undefined,default     = ${get    undefined,default}
   get undefined             = ${get undefined} 
   undefined                 = ${undefined}

   getset doesnotexist       = ${getset doesnotexist,default}
   doesnotexist              = ${doesnotexist}
   get doesnotexist          = ${get doesnotexist}
   getset doesnotexist       = ${getset doesnotexist}
   getset doesnotexist,XXX   = ${getset doesnotexist,XXX}

   empty                     = ${} ${  } 

   ifdef  prop               = ${ifdef  prop, value, othervalue}
   ifndef prop               = ${ifndef prop, value, othervalue}
   cvs.tag                   = ${cvs.tag}
   co cmd                    = .. ${ifdef cvs.tag,-r ${cvs.tag}} ..
 </echo>
 </target>

</project>
