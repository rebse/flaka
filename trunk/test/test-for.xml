<project xmlns:c="antlib:net.haefelingerit.flaka" xmlns:foo="foobar">

  <c:for />

  <c:for in="a b c">
     <sequential>
       <echo>x = @{x}</echo>
     </sequential>
  </c:for>
  
  <!--:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::-->
  <!-- This loop should not be iterated more than 3 times.                   -->
  <!--:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::-->
  <c:for var="i" in=" 1  2  3  4  5  6 ">
    <sequential>
      <echo>i = @{i} (break test)</echo>
      <c:set var="X@{i}" value="@{i}" />
     <c:when test="@{i} = '3'">
        <c:break />
      </c:when>
    </sequential>
  </c:for>
  
  <fail message="X1 not defined"  unless="X1" />
  <fail message="X2 not defined"  unless="X2" />
  <fail message="X3 not defined"  unless="X3" />
  <fail message="X4 *is* defined" if="X4" />
  <fail message="X5 *is* defined" if="X5" />
  <fail message="X6 *is* defined" if="X6" />
   
  <c:unset var="X1 X2 X3 X4 X5 X6" />

  <!--:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::-->
  <!-- The part after the when should only be executed three times.          -->
  <!--:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::-->

  <c:for var="i" in=" 1  2  3  4  5  6 ">
    <sequential>
      <c:when test="@{i} -gt '3'">
        <c:continue />
      </c:when>
      <echo>i = @{i} (continue test)</echo>
      <c:set var="X@{i}" value="@{i}" />
    </sequential>
  </c:for>
 
  <fail message="X1 not defined"  unless="X1" />
  <fail message="X2 not defined"  unless="X2" />
  <fail message="X3 not defined"  unless="X3" />
  <fail message="X4 *is* defined" if="X4" />
  <fail message="X5 *is* defined" if="X5" />
  <fail message="X6 *is* defined" if="X6" />
   

  
  

</project>
