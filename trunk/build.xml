<project xmlns:c="antlib:net.haefelingerit.flaka" name="flaka">
  <c:properties>
    baseline = HEAD
    res.dir =   
  </c:properties>

  <c:dependencies>
    <c:dependency alias="ant" />
    <c:dependency alias="junit" scope="test" />
    <c:dependency alias="commons-httpclient" scope="compile inline" />
    <c:dependency alias="commons-codec" scope="compile inline" />
    <c:dependency alias="commons-logging" scope="compile inline" version="1.1"/>
    <c:dependency alias="jdom" scope="compile inline"/>
    <c:dependency alias="juel" scope="compile inline"/>
    <!-- Not required for building, but running Ant scripts -->
    <!-- within Eclipse -->
    <c:dependency name="ant-launcher" scope="eclipse"/>
  </c:dependencies>

  <!-- Initialize Framework -->
  <c:init />

  <presetdef name="junit">
    <junit dir="test"  />
  </presetdef>

  <presetdef name="javac">
    <javac source="1.5" debug="true" />
  </presetdef>


  <macrodef name="package">
    <sequential>
      <echo>Using local package ..</echo>
      <c:package />
      <!-- inline all artefacts in scope 'inline' -->
      <c:unset>
        x
      </c:unset>
      <c:find dir="${lib.dir}" var="x">
        <c:dependency-selector scope="inline" />
      </c:find>
      <c:when test="-n '${x}'">
        <c:for var="file" in="${x}">
          <sequential>
            <echo>inlining @{file} ..</echo>
            <c:update-dist-jar jar="${jar.name}">
              <zipfileset src="@{file}" />
            </c:update-dist-jar>
          </sequential>
        </c:for>
      </c:when>
    </sequential>
  </macrodef>
  
  <presetdef name="javadoc">
    <javadoc
        packagenames    = "net.haefelingerit.flaka.*"
        sourcepath      = "${src.dir}"
        classpathref    = "javac.classpath"
        >
      <link href="http://java.sun.com/j2se/1.5.0/docs/api" />
      <link href="http://www.jdom.org/docs/apidocs" />
      <link href="http://logging.apache.org/log4j/1.2/apidocs" />
      <link href="http://javadoc.haefelingerit.net/org.apache.ant/1.7.1" />
      <link href="http://javadoc.haefelingerit.net/net.sourceforge.cruisecontrol/2.8.2" />
      <link href="http://javadoc.haefelingerit.net/net.sourceforge.juel/2.1" />
      <link href="http://logging.apache.org/log4j/1.2/apidocs" />
      <link href="http://hc.apache.org/httpclient-3.x/apidocs" />
    </javadoc>
  </presetdef>

  <target name="copy-resources">
    <c:copy-and-replace src="${basedir}/res" dst="${obj.dir}" />
  </target>

	<target name="apropos">
	 <c:apropos />
	</target>

</project>
